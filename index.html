<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Data Pewakaf</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <h1>Daftar Pewakaf</h1>
  <p>Keterangan warna:</p>
  <ul>
    <li><span class="legend green"></span> Wakaf Rp 1.000.000 ke atas</li>
    <li><span class="legend blue"></span> Wakaf Rp 1.000 â€“ 999.999</li>
    <li><span class="legend yellow"></span> Sudah PO</li>
    <li><span class="legend gray"></span> Belum Wakaf</li>
  </ul>
  <div id="pewakaf-container" class="grid-kotak"></div>

  <script>
    const sheetURL = "https://docs.google.com/spreadsheets/d/e/2PACX-1vR8FWUuq2J_p9jwVB43Pvy_jiuenlDV5htgsCcYaBKp6oF-io0n7UYKj4yUCRV92RUqMzY8KauEat-D/pub?output=csv";

    fetch(sheetURL)
      .then(res => res.text())
      .then(csv => {
        const rows = csv.split("\n").slice(1);
        const container = document.getElementById("pewakaf-container");

        rows.forEach(row => {
          const cols = row.split(",");
          const nama = cols[0]?.trim();
          const jumlah = parseInt(cols[1]?.replace(/\D/g, "")) || 0;

          const kotak = document.createElement("div");
          kotak.className = "kotak";
          kotak.textContent = nama;

          if (jumlah >= 1000000) kotak.style.backgroundColor = "green";
          else if (jumlah >= 1000) kotak.style.backgroundColor = "blue";
          else if (nama) kotak.style.backgroundColor = "yellow";
          else kotak.style.backgroundColor = "gray";

          container.appendChild(kotak);
        });
      });
  </script>
</body>
</html>
